<app-nav></app-nav>
<div class="header-cars-area">
  <form (ngSubmit)="addCar()" class="carcreate">
    <div class="group">
      <input
        [(ngModel)]="brand"
        name="brand"
        placeholder="–ú–∞—Ä–∫–∞"
        required
        type="search"
        class="inputcar"
      />
      <input
        [(ngModel)]="model"
        name="model"
        placeholder="–ú–æ–¥–µ–ª—å"
        required
        type="search"
        class="inputcar"
      />
    </div>
    <!-- <input [(ngModel)]="brand" name="brand" placeholder="–ú–∞—Ä–∫–∞" required />
  <input [(ngModel)]="model" name="model" placeholder="–ú–æ–¥–µ–ª—å" required /> -->
    <button type="submit" class="btn-cars">–°–æ–∑–¥–∞—Ç—å</button>
  </form>
  <div class="searchbycar">
    <input
      type="text"
      autocomplete="off"
      [(ngModel)]="searchTerm"
      placeholder="–ü–æ—à—É–∫ –º–∞—Ä–∫–∏ –∞–±–æ –º–æ–¥–µ–ª—ñ"
      class="input"
    />
  </div>
</div>
<div class="listcars">
  <div *ngFor="let brand of objectKeys(filteredCarFolders)">
    <div style="margin-top: 1em">
      <!-- üìÅ —Å –∫–ª–∏–∫–æ–º –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –º–∞—Ä–∫–∏ -->
      <strong (click)="toggleBrand(brand)" style="cursor: pointer">
        üìÅ {{ brand }}
        <span>
          {{ expandedBrands[brand] ? "‚¨ÜÔ∏è" : "‚¨áÔ∏è" }}
        </span>
      </strong>
      <button (click)="deleteBrand(brand)" style="color: red">
        –£–¥–∞–ª–∏—Ç—å –º–∞—Ä–∫—É
      </button>

      <ul *ngIf="expandedBrands[brand]">
        <li *ngFor="let model of filteredCarFolders[brand]">
          üìÑ {{ model }}

          <button (click)="deleteModel(brand, model)">
            <mat-icon class="delete-model">delete</mat-icon>
          </button>

          <button (click)="findBrand(brand, model)" class="btn">
            –ü–æ—à—É–∫ –ø–æ –º–∞—à–∏–Ω—ñ
          </button>
        </li>
      </ul>
    </div>
  </div>
</div>
